{% extends "base.html" %}

{% block content %}
<div class="min-h-screen bg-gray-50 py-6">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="bg-white rounded-lg shadow-lg">
            <!-- Header Section -->
            <div class="p-4 border-b border-gray-200">
                <h2 class="text-xl font-semibold text-gray-800">Upload Gambar untuk Deteksi Malnutrisi</h2>
                <p class="text-sm text-gray-500 mt-1">Unggah gambar untuk memeriksa apakah subjek malnutrisi atau tidak.</p>
            </div>

            <!-- Upload Form -->
            <div class="p-4">
                <form method="POST" enctype="multipart/form-data">
                    <input type="file" name="image" accept="image/*" required
                        class="block w-full text-sm text-gray-500 border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500">
                    <button type="submit"
                        class="mt-4 w-full px-4 py-2 bg-blue-500 text-white font-semibold rounded-lg hover:bg-blue-600">
                        Unggah dan Analisis
                    </button>
                </form>
            </div>

            <!-- Prediction Result -->
            {% if prediction %}
                <div class="p-4 border-t border-gray-200">
                    <h3 class="text-lg font-semibold text-gray-800">Hasil Prediksi</h3>
                    <p class="text-sm text-gray-700 mt-2">
                        <strong>Status:</strong> {{ prediction }} <br>
                        <strong>Confidence:</strong> {{ confidence|round(2) }}
                    </p>
                </div>
            {% elif error %}
                <div class="p-4 border-t border-gray-200">
                    <p class="text-sm text-red-500">{{ error }}</p>
                </div>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}
